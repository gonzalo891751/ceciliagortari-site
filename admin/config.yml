backend:
  name: github
  repo: gonzalo891751/ceciliagortari-site
  branch: main
  base_url: https://sveltia-cms-auth.gonzalo891751.workers.dev # Pointing to the domain where Pages Functions live
  auth_endpoint: /auth

media_folder: "assets/uploads"
public_folder: "/assets/uploads"

publish_mode: simple

collections:
  - name: "prensa"
    label: "Prensa/Comunicados"
    editor:
      preview: true
    files:
      - name: "items"
        label: "Publicaciones"
        file: "content/prensa.json"
        
        # Structure: { "items": [ ... ] }
        fields:
          - name: "items"
            label: "Artículos"
            label_singular: "Artículo"
            widget: "list"
            collapsed: true
            summary: "{{fecha}} — {{titulo}}"
            fields:
              - { label: "Fecha", name: "fecha", widget: "datetime" }
              - { label: "Título", name: "titulo", widget: "string" }
              - { label: "Subtítulo", name: "subtitulo", widget: "text", required: false }
              - { label: "Etiqueta", name: "etiqueta", widget: "select", options: ["Documento", "Actividad", "Prensa", "Novedad", "Proyecto presentado"], default: "Novedad" }
              - { label: "Imagen destacada", name: "imagen", widget: "image", required: false }
              - { label: "Archivo/Documento (PDF/DOCX)", name: "archivo", widget: "file", required: false, hint: "Subir archivo adjunto (PDF, DOCX)." }
              - { label: "URL de Instagram (Reel/Post)", name: "instagram_url", widget: "string", required: false, hint: "Pegar la URL completa del post o reel." }
              - { label: "Contenido", name: "body", widget: "markdown", required: false, hint: "Escribir el cuerpo de la noticia. Se puede usar Markdown." }
              # Hidden/Legacy Fields
              - { label: "ID", name: "id", widget: "string", required: false, hidden: true }
              - { label: "Cuerpo (Legacy)", name: "cuerpo", widget: "markdown", required: false, hidden: true }
              - { label: "Documento (Legacy)", name: "documento", widget: "string", required: false, hidden: true }
